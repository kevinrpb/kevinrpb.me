import{r as k,R as m}from"./index.B52nOzfP.js";var x={exports:{}},u={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M=k,v=Symbol.for("react.element"),b=Symbol.for("react.fragment"),E=Object.prototype.hasOwnProperty,$=M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,R={key:!0,ref:!0,__self:!0,__source:!0};function S(r,t,e){var i,s={},a=null,n=null;e!==void 0&&(a=""+e),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(n=t.ref);for(i in t)E.call(t,i)&&!R.hasOwnProperty(i)&&(s[i]=t[i]);if(r&&r.defaultProps)for(i in t=r.defaultProps,t)s[i]===void 0&&(s[i]=t[i]);return{$$typeof:v,type:r,key:a,ref:n,props:s,_owner:$.current}}u.Fragment=b;u.jsx=S;u.jsxs=S;x.exports=u;var P=x.exports;class Y{element;context;translation=[0,0];mouseX=0;mouseY=0;constructor(t){this.element=t;const e=this.element.getContext("2d");if(!e)throw new Error("Could not initialize canvas context");this.context=e}fill(t=[0]){let e;switch(t.length){case 1:e=`rgb(${t[0]}, ${t[0]}, ${t[0]})`;break;case 2:e=`rgba(${t[0]}, ${t[0]}, ${t[0]}, ${t[1]})`;break;case 3:e=`rgb(${t[0]}, ${t[1]}, ${t[2]})`;break;case 4:e=`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${t[3]})`;break}e&&(this.context.fillStyle=e)}background(t){this.fill(t),this.context.fillRect(0,0,this.element.width,this.element.height)}rect(t,e,i,s){this.context.fillRect(t+this.translation[0],e+this.translation[1],i,s)}ellipse(t,e,i,s){this.context.beginPath(),this.context.ellipse(t+this.translation[0],e+this.translation[1],i,s,0,0,2*Math.PI),this.context.fill()}translate(t,e){this.translation[0]+=t,this.translation[1]+=e}setTranslate(t,e){this.translation=[t,e]}}class y{x;y;w;h;a;f;constructor({x:t,y:e,w:i,h:s,a,f:n}){this.x=t??0,this.y=e??0,this.w=i??1,this.h=s??1,this.a=a??0,this.f=n??2.3}coords(){return[this.x,this.y]}size(){return[this.w,this.h]}update(t=void 0){if(t)this.x=t[0],this.y=t[1];else{const e=this.x+this.f*Math.cos(this.a),i=this.y+this.f*Math.sin(this.a);this.x=e,this.y=i}}render(t,e=void 0){e&&t.fill(e),t.ellipse(this.x,this.y,this.w,this.h)}}class C{life;lifespan;particle;constructor({x:t,y:e,lifespan:i}){this.lifespan=i,this.life=0;const s=Math.random()*2+1,a=Math.random()*2*Math.PI,n=Math.random()*.5+.5;this.particle=new y({x:t,y:e,w:s,h:s,a,f:n})}update(){this.life>=this.lifespan||(this.particle.update(),this.life+=1)}render(t,e){const i=this.life/this.lifespan,s=d(i,0,1,1,0);this.particle.render(t,[...e,s])}}class L{life;lifespan;particles;constructor({x:t,y:e,lifespan:i,n:s}){this.lifespan=i,this.life=0,this.particles=[];let a=Math.PI*6/8;const n=2,o=.1;for(let l=0;l<s;l++)this.particles.push(new y({x:t,y:e,w:d(l,0,s,n,o),h:d(l,0,s,n,o),a}))}update(){if(!(this.life>=this.lifespan)){for(let t=this.particles.length-1;t>-1;t--)t===0?this.particles[t].update():this.life+this.particles.length>=this.lifespan?this.particles.pop():this.life>=t&&this.particles[t].update();this.life+=1}}render(t,e){const i=this.life/this.lifespan;for(let s=this.particles.length-1;s>-1;s--){const a=d(s,0,this.particles.length,1,0);this.particles[s].render(t,[...e,a*(1-i)])}}}const d=(r,t,e,i,s)=>(r-t)/(e-t)*(s-i)+i,O=()=>matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",w=(r,t,e,i)=>{let s=[],a=t;for(let n=t;n<e;n++)Math.random()<i&&a++;for(let n=0;n<a;n++){const o=Math.random()*r.element.width-r.translation[0],l=Math.random()*r.element.height-r.translation[1],c=Math.random()*500+100;s.push(new C({x:o,y:l,lifespan:c}))}return s},g=(r,t,e,i)=>{let s=[],a=t;for(let n=t;n<e;n++)Math.random()<i&&a++;for(let n=0;n<a;n++){const o=Math.random()*r.element.width-r.translation[0],l=Math.random()*r.element.height-r.translation[1],c=Math.random()*25+15;s.push(new L({x:o,y:l,lifespan:c,n:15}))}return s},I=r=>{const t=m.useRef(null);return m.useEffect(()=>{if(!t.current)return;const e=new Y(t.current);let i=[],s=O();i.push(...w(e,0,3,.05)),i.push(...g(e,0,3,.05)),e.element.width=window.innerWidth,e.element.height=window.innerHeight,e.mouseX=window.innerWidth/2,e.mouseY=window.innerHeight/2,window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",h=>h.matches&&(s="dark")),window.matchMedia("(prefers-color-scheme: light)").addEventListener("change",h=>h.matches&&(s="light"));let a;window.addEventListener("resize",function(){clearTimeout(a),a=setTimeout(function(){e.element.width=window.innerWidth,e.element.height=window.innerHeight},200)}),document.addEventListener("mousemove",function(h){e.mouseX=h.clientX,e.mouseY=h.clientY}),document.addEventListener("mouseenter",function(h){e.mouseX=h.clientX,e.mouseY=h.clientY});const n=()=>{s==="dark"?e.background([42,44,65]):e.background([236,241,243]),e.setTranslate(300*e.mouseX/e.element.width,300*e.mouseY/e.element.height);const h=s==="dark"?[255]:[0];i.forEach(p=>p.render(e,h))},o=()=>{let h=i;for(let f=i.length-1;f>-1;f--)i[f].update(),i[f].life>=i[f].lifespan&&h.splice(f,1);const p=w(e,0,3,.05),_=g(e,0,3,.05);i=h.concat(p,_)};let l;const c=()=>{n(),o(),l=window.requestAnimationFrame(c)};return c(),()=>{window.cancelAnimationFrame(l)}},[t]),P.jsx("canvas",{ref:t,...r})};export{I as default};
